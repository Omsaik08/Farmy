<!DOCTYPE html>
<html lang="en">

  <head>

      <title>{% block title  %}FARMY-FARMERS ARMY{% endblock %} </title>
      {% load static %}
      <link rel="icon" href=" {% static 'farmer/images/mainlogo.png' %} " type="image/x-icon">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap" rel="stylesheet">




    <link rel="stylesheet" href="{% static 'farmer/css/open-iconic-bootstrap.min.css'%}">
    <link rel="stylesheet" href="{% static 'farmer/css/animate.css'%}">

    <link rel="stylesheet" href="{% static 'farmer/css/owl.carousel.min.css'%}">
    <link rel="stylesheet" href="{% static 'farmer/css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'farmer/css/magnific-popup.css' %}">

    <link rel="stylesheet" href="{% static 'farmer/css/aos.css' %}">

    <link rel="stylesheet" href="{% static 'farmer/css/ionicons.min.css' %}">

    <link rel="stylesheet" href="{% static 'farmer/css/bootstrap-datepicker.css' %}">
    <link rel="stylesheet" href="{% static 'farmer/css/jquery.timepicker.css' %}">


    <link rel="stylesheet" href="{% static 'farmer/css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'farmer/css/icomoon.css' %}">
    <link rel="stylesheet" href="{% static 'farmer/css/style.css' %}">


    <!-- dark mode css -->
    <link rel="stylesheet" href="{% static 'farmer/css/dark.css' %}">
    <!-- dark mode css -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <style type="text/css">
      body{
        font-family: courier new;
      }
    </style>

  </head>
  <body class="goto-here">

    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark"  id="ftco-navbar" style=" background-color: #29323c; margin-bottom:0px !important;position: fixed;top: 0px;width: 100%;z-index: 1000;border-bottom: 1px solid white;" >
      <div class="container">

      <img src="{% static 'farmer/images/mainlogo.png'%}" style="width:50px;"> &nbsp
        <a class="navbar-brand" href=" {% url 'farmerApp:homepage' %} " style="color:#22cd92;">farmy</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active"><a href="{% url 'farmerApp:homepage' %}" class="nav-link" style="color:#22cd92;" >💒 Home</a></li>
            <li class="nav-item"><a href=" {% url 'farmerApp:about' %} " class="nav-link" style="color:#22cd92;" >🏢 About</a></li>
            <li class="nav-item"><a href=" {% url 'farmerApp:contact' %} " class="nav-link" style="color:#22cd92;" >📧 Contact</a></li>
        <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="dropdown03" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:#22cd92;cursor: pointer;" >⚙️ Options</a>
              <div class="dropdown-menu" aria-labelledby="dropdown03">
                <a class="dropdown-item" href=" {% url 'farmerApp:ask_query' %} " style="color:#22cd92;">📝 Ask Query</a>
                <a class="dropdown-item" href=" {% url 'feedsApp:homepage' %}" style="color: #22cd92;">📰 News feed</a>
                <a class="dropdown-item" href=" {% url 'feedsApp:bills' %}" style="color: #22cd92;"> 📑 Amendment Bills</a>
                <a class="dropdown-item" href=" {% url 'weatherApp:homepage' %} " style="color:#22cd92;">🌦 Weather</a>
              </div>
            </li>


            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:#22cd92;cursor: pointer;" ><span style="color: white;">🖼</span>My Profile</a>
              <div class="dropdown-menu" aria-labelledby="dropdown04">
              	<a class="dropdown-item" href="{% url 'farmerApp:my_profile' %}" style="color:#22cd92;" >🤵🏻‍♀️My Account</a>
              	<a class="dropdown-item" href=" {%url 'farmerApp:my_questions'%} " style="color:#22cd92;" >📒 My Questions</a>
                <a class="dropdown-item" href=" {%url 'farmerApp:all_questions'%} " style="color:#22cd92;" >❓ All Questions</a>

                <a class="dropdown-item" data-toggle="modal" style="color:#22cd92;cursor: pointer;" data-target="#logoutModal"> 🔐 Logout</a>
              </div>
            </li>





          </ul>
        </div>
<!-- dark mode -->
            <form action="{% url 'farmerApp:darkModeChange' %}" method="POST">
              {% csrf_token %}
              <abbr title="Dark Theme"><input type="submit" value="🌞" id="toggle"></abbr>
            </form>
            <!-- dark mode -->
      </div>

    </nav>
    <!-- END nav -->



<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Logout  😰 ?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">Sure You want to leave 🤔 ?</div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
        <a class="btn btn-primary" href="{% url 'farmerApp:logout' %}">Logout</a>
      </div>
    </div>
  </div>
</div>

    <br><br>

  <div>
    {% block content %}

    {% endblock %}
  </div>

  <button class="open-button" onclick="openForm()">💬</button>

  <!--<div class="chat-popup" id="myForm">
    <form action="{% url 'farmerApp:give_reply' %}" class="form-container" method="POST">
      {% csrf_token %}

      <div class="close" onclick="closeForm()">✖️ </div>
      <div class="chat-heading"><b><img class="chatbot-img" src="{% static 'farmer/images/mainlogo.png'%}"> FarmyBot</b>
        <div style="font-size: 13px">Typically replies under 1 min.</div>
      </div >

      <div class="message-body">



      </div>


      <div><input placeholder=" Enter Message here ..." class="input-message" type="text" minlength="2" name="userMsg" required><button class="chatbot-button" type="submit"><i class="fa fa-telegram" style="font-size:22px; color:#22cd92;outline: none !important;"></i></button></div>

    </form>
  </div>-->

<div class="chat-popup" id="myForm">
    <!-- 1> <form action=" {% url 'farmerApp:give_reply' %} " class="form-container" method="POST">
      {% csrf_token %}-->

      <div class="close" onclick="closeForm()">✖️ </div>
      <div class="chat-heading"><b><img class="chatbot-img" src="{% static 'farmer/images/mainlogo.png'%}"> FarmyBot</b>
        <div style="font-size: 13px">Typically replies under 1 min.</div>
      </div >

      <div class="message-body" id="scrollto">



      </div>


      <div>
        <input placeholder=" Enter Message here ..." class="input-message" type="text" minlength="2" name="userMsg" required>
        <button class="chatbot-button" type="submit"><i class="fa fa-telegram" style="font-size:22px; color:#22cd92;outline: none !important;"></i></button>
      </div>

    <!--</form>-->
  </div>

    <footer class="ftco-footer ftco-section" style="background:#29323c">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2"><img src="{% static 'farmer/images/mainlogo.png'%}" style="width:50px;">FARMY</h2>
              <div class='our-color'><p style="color:white;">Agriculture is our wisest pursuit, because it will in the end contribute most to real wealth, good morals, and happiness.</p></div>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5" style="display: flex;">
                <li class="ftco-animate"><a href="https://twitter.com/farmybizz" target="_blank"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="https://m.facebook.com/farmy.bizz" target="_blank"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="https://www.instagram.com/farmybizz" target="_blank"><span class="icon-instagram"></span></a></li>
                <li class="ftco-animate"><a href="https://www.linkedin.com/in/bizz-farmy-341a0320a/" target="_blank"><span class="icon-linkedin"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <div class='our-color'>
              <h2 class="ftco-heading-2">Menu</h2>
              <ul class="list-unstyled">
                <li><a href=" {% url 'farmerApp:about' %} " class="py-2 d-block">About</a></li>
                <li><a href=" {% url 'farmerApp:contact' %} " class="py-2 d-block">Contact Us</a></li>
              </ul>
              </div>
            </div>
          </div>
          <div class="col-md">
             <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Help</h2>
              <div class="d-flex">
              <div class='our-color'>
                <ul class="list-unstyled mr-l-5 pr-l-3 mr-4">
                  <li><a href=" {% url 'farmerApp:terms_conditions' %} " class="py-2 d-block">Terms &amp; Conditions</a></li>
                  <li><a href=" {% url 'farmerApp:privacy_policy' %} " class="py-2 d-block">Privacy Policy</a></li>
                  <li><a href=" {% url 'farmerApp:faq' %} " class="py-2 d-block">FAQs</a></li>
                </ul>
              </div>
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <div class='our-color'>
              <h2 class="ftco-heading-2">Have a Questions?</h2>
              <div class="block-23 mb-3">
                <ul>
                  <li><span class="icon icon-map-marker"></span><span class="text">Hirachand Nemchand Marg,Walchand Institute of Technology,solapur</span></li>
                  <li><a href="tel:8484946271"><span class="icon icon-phone"></span><span class="text">+91-1234567890</span></a></li>
                  <li><a href="mailto:bizzfarmy@gmail.com"><span class="icon icon-envelope"></span><span class="text">bizzfarmy@gmail.com</span></a></li>
                </ul>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>





<!-- dark mode script -->
<script>
  var state= "{{request.session.darkMode}}" ;


    if(state == 'False'){

      state=false;

      /* for subpart of section */
      var v=document.getElementsByClassName("darkContent");
      document.body.style.background="";
      for (var i=0; i<v.length; i++) {
        v[i].style.color = "";
        v[i].style.backgroundColor = "rgb(220 218 218)";
      }

      /*for Headings */

      var h=document.getElementsByClassName("darkHeading");
      for (var i=0; i<h.length; i++) {
        h[i].style.color ="";
      }

      /* for part of section without background */

      var n=document.getElementsByClassName("darkNormalContent");
      for (var i=0; i<n.length; i++) {
        n[i].style.color = "";
      }

      var hr = document.getElementsByTagName('hr');
      for (var i=0; i<hr.length; i++) {
        hr[i].style.borderTop = "1px solid black";
      }


      /* for border of sections*/

      var b=document.getElementsByClassName("darkRowBorder");
      for (var i=0; i<b.length; i++) {
        b[i].style.border="";
        b[i].style.boxShadow="";
        b[i].style.backgroundColor="";
      }

    }
    else{
      state=true;

      /* for subpart of section */
      var v=document.getElementsByClassName("darkContent");
      document.body.style.background="#3c3b3b";
      for (var i=0; i<v.length; i++) {
        v[i].style.color = "white";
        v[i].style.backgroundColor = "#3c3b3b" ;
      }

      /*for Headings */

      var h=document.getElementsByClassName("darkHeading");
      for (var i=0; i<h.length; i++) {
        h[i].style.color = "#22cd92";
      }

      /* for part of section without background */

      var n=document.getElementsByClassName("darkNormalContent");
      for (var i=0; i<n.length; i++) {
        n[i].style.color = "white";
      }

      var hr = document.getElementsByTagName('hr');
      for (var i=0; i<hr.length; i++) {
        hr[i].style.borderTop = '1px solid white';
      }

      /* for border of sections*/

      var b=document.getElementsByClassName("darkRowBorder");
      for (var i=0; i<b.length; i++) {
        b[i].style.border="1px solid white";
        b[i].style.boxShadow="5px 7px 10px 0px white";
        b[i].style.backgroundColor="black";
      }
    }



     /* //Chatbot
      function openForm() {
        $('.chat-popup').css('display','block');

      }

      function closeForm() {
        $('.chat-popup').css('display','none');

      }


    if( "{{request.build_absolute_uri}}" != "{{request.META.HTTP_REFERER}}" ){
      $('.chat-popup').css('display','none');
    }

var audioElement = document.createElement('audio');
    audioElement.setAttribute('src', '{% static "msg_sound.mp3" %}');

    var vmsg="{{request.session.msg}}";
    vmsg=vmsg.split("^");
    if(vmsg.length==1)
    {
     $('.message-body').append( "<div class='messageFrom-content'><div class='message-contentFrom'>"+vmsg+"</div></div>" );

    }
    else{
    for(i=0;i<vmsg.length;i++)
    {
      if(i%2==0)
      {
      $('.message-body').append( "<div class='row m-2 messageFrom-content'><div class='message-contentFrom'>"+vmsg[i]+"</div></div>" );
      }
      else{
      $('.message-body').append( "<div class='row m-2 messageTo-content'><div class='message-contentTo'>"+vmsg[i]+"</div></div><br>" );
      }

    }
    if( "{{request.build_absolute_uri}}" == "{{request.META.HTTP_REFERER}}" ){
        audioElement.play();
    }

  }
*/
var ele=document.getElementById("scrollto");

      //Chatbot
      function openForm() {
        $('.chat-popup').css('display','block');
                ele.scrollTop=ele.scrollHeight;
        $(".open-button").hide();
      }

      function closeForm() {
        $('.chat-popup').css('display','none');
    $(".open-button").show();
      }


    if( "{{request.build_absolute_uri}}" != "{{request.META.HTTP_REFERER}}" ){
      $('.chat-popup').css('display','none');
      ele.scrollTop=ele.scrollHeight;
    }
    /*if( "{{request.build_absolute_uri}}" != "{{request.META.HTTP_REFERER}}" ){
      $('.chat-popup').css('display','none');
    }*/





   var audioElement = document.createElement('audio');
    audioElement.setAttribute('src', '{% static "msg_sound.mp3" %}');






    var vmsg="{{request.session.msg}}";
    vmsg=vmsg.split("^");

    if(vmsg.length==1)
    {
      $('.message-body').empty();
     $('.message-body').append( "<div class='messageFrom-content'><div class='message-contentFrom'>"+vmsg+"</div></div>" );
    }
    else{
      $('.message-body').empty();
       for(i=0;i<vmsg.length;i++)
      {
        if(i%2==0)
        {
        $('.message-body').append( "<div class='row m-2 messageFrom-content'><div class='message-contentFrom'>"+vmsg[i]+"</div></div>" );
        }
        else{
        $('.message-body').append( "<div class='row m-2 messageTo-content'><div class='message-contentTo'>"+vmsg[i]+"</div></div><br>" );
        }
      }
    }
    ele.scrollTop=ele.scrollHeight;
  $(".chatbot-button").click(function(){
    var chatbotMsg = $(".input-message").val();
    $('.message-body').append( "<div class='row m-2 messageTo-content'><div class='message-contentTo'>"+chatbotMsg+"</div></div><br>" );
    $('.input-message').val('');
    ele.scrollTop=ele.scrollHeight;


     $.ajax({
        url: '{% url "farmerApp:give_reply" %}' ,
        data: {
          'userMsg': chatbotMsg,
        },
        dataType: 'json',
        success: function (impdata) {
          if (impdata.status==0){
            $('.chat-popup').css('display','block');
             $('.message-body').append( "<div class='row m-2 messageFrom-content'><div class='message-contentFrom'>"+impdata.reply+"</div></div>" );
             audioElement.play();
              ele.scrollTop=ele.scrollHeight;
          }
          else{
            $('.chat-popup').css('display','block');
              $('.message-body').append( "<div class='row m-2 messageFrom-content'><div class='message-contentFrom'>"+impdata.reply+"</div></div>" );
              audioElement.play();
              ele.scrollTop=ele.scrollHeight;
          }

        }
      });


  });
  //end chatbot

</script>

<style type="text/css">
  .darkHeading{
    border-left: 12px solid blue;
    background-color: #c1ffff;
    color: black;
    border-radius: 8px;
  }

  .darkContent{
    padding: 2%;
    border-radius: 10px;
  }
  .darkRowBorder{
    border-radius: 10px;
    border: 1px solid #00000038;
    box-shadow: 5px 7px 10px 0px #00000057;
    background-color: white;
  }
  .ftco-heading-2
  {
    color: #22cd92;
  }

  /*chatbot*/
 .open-button {
     outline: none !important;
  background-color: #22cd92;
    color: white;
    padding: 16px 10px;
    border: none;
    cursor: pointer;
    position: fixed;
    bottom: 23px;
    right: 28px;
    width: 70px;
    height: 70px;
    border-radius: 34px 8px 34px 34px;
    font-size: 25px;
    outline: unset;
    z-index: 1;
}

/* The popup chat - hidden by default */
.chat-popup {
  position: fixed;
  bottom: 10px;
  right: 15px;
  z-index: 9;

}

/* Add styles to the form container */
.form-container {
  max-width: 400px;
  background-color: #dedcdc;
  padding: 1px;
  bottom: 10px;
    position: relative;
    border-radius: 10px;
}

  body{
    font-family: courier new;
  }
  .chat-heading{
    text-align: center;
    background-color: #22cd92;
    font-size: 25px;
    padding: 10px;
    color: white;
 border-radius: 10px 10px 0 0;
  }
  .close
  {
    cursor: pointer;
      right: 5px;
    text-align: right;
    position: relative;
    top: 15px;
  }
  .message-body{
    height: 55vh;
    width: 18rem;
    background-color: white;
    margin: 5px 5px 5px 5px;
    padding:4px;
    border-radius: 5px;
    /*overflow: auto;*/
    overflow:scroll;

  }
  .input-message{
    padding-left: 10px;
    width: 95%;
    margin-left: 2%;
    height: 42px;
    outline: none !important;
    border: none;
    border-radius: 5px;
    margin-bottom: 5.5px;
  }
  .chatbot-button{
    position: fixed;
    background-color: white;
    cursor: pointer;

    right: 20px;
    padding: 6px;
    margin: 6px;
    border: none;
    bottom: 10px;
    outline: unset !important;
  }
  .messageFrom-content{
    width: inherit !important;
    max-width: 80%;

  }
  .message-contentFrom{
    font-size: 13px;
    padding: 8px;
    border-radius: 2px 10px 10px;
    background-color: #dedcdc;
  }
  .messageTo-content{
    width: fit-content;
    max-width: 80%;
    position: relative;
    text-align: right;
    float: right;
    word-break: break-all;
  }
  .message-contentTo{
    font-size: 13px;
    padding: 8px;
    background-color: #22cd92;
    border-radius: 10px 4px 10px 10px;
    color: white;
  }
  .chatbot-label{
    font-size: 13px;
  }
  .chatbot-img{
    height: 45px;
    position: absolute;
    background-color: white;
    left: 20px;
    top: 10px;
    border-radius: 47%;
  }
</style>


  <!--Translation<-->
  <center><div id="google_translate_element"></div></center>
  <script src="{% static 'farmer/js/translate/translate.js' %}"></script>


  <script src="{% static 'farmer/js/jquery.min.js' %}"></script>
  <script src="{% static 'farmer/js/jquery-migrate-3.0.1.min.js' %}"></script>
  <script src="{% static 'farmer/js/popper.min.js' %}"></script>
  <script src="{% static 'farmer/js/bootstrap.min.js' %}"></script>
  <script src="{% static 'farmer/js/jquery.easing.1.3.js' %}"></script>
  <script src="{% static 'farmer/js/jquery.waypoints.min.js' %}"></script>
  <script src="{% static 'farmer/js/jquery.stellar.min.js' %}"></script>
  <script src="{% static 'farmer/js/owl.carousel.min.js' %}"></script>
  <script src="{% static 'farmer/js/jquery.magnific-popup.min.js' %}"></script>
  <script src="{% static 'farmer/js/aos.js' %}"></script>
  <script src="{% static 'farmer/js/jquery.animateNumber.min.js' %}"></script>
  <script src="{% static 'farmer/js/bootstrap-datepicker.js' %}"></script>
  <script src="{% static 'farmer/js/scrollax.min.js' %}"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="{% static 'farmer/js/google-map.js' %}"></script>
  <script src="{% static 'farmer/js/main.js' %}"></script>

  </body>
</html>